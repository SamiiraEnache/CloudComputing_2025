{"ast":null,"code":"import React,{useEffect,useState}from'react';import{getRecommendations}from'../services/api';import MovieCard from'../components/MovieCard';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RecommendationsPage=()=>{const[recommendations,setRecommendations]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const userId='test_user';useEffect(()=>{getRecommendations(userId).then(res=>{var _res$data;console.log(\"REZ_BACKEND:\",res.data);const recs=(_res$data=res.data)===null||_res$data===void 0?void 0:_res$data.recommendations;if(Array.isArray(recs)){setRecommendations(recs);}else{console.warn(\"Expected array, got:\",typeof recs);setRecommendations([]);}}).catch(err=>{console.error(\"Error fetching data:\",err);setRecommendations([]);}).finally(()=>{setLoading(false);});},[]);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Se \\xEEncarc\\u0103 recomand\\u0103rile...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{children:error});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Recomand\\u0103ri\"}),recommendations.length===0?/*#__PURE__*/_jsx(\"p\",{children:\"Nu exist\\u0103 recomand\\u0103ri momentan.\"}):/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',gap:'10px',flexWrap:'wrap'},children:recommendations.map((movie,index)=>/*#__PURE__*/_jsx(MovieCard,{...movie},index))})]});};export default RecommendationsPage;","map":{"version":3,"names":["React","useEffect","useState","getRecommendations","MovieCard","jsx","_jsx","jsxs","_jsxs","RecommendationsPage","recommendations","setRecommendations","loading","setLoading","error","setError","userId","then","res","_res$data","console","log","data","recs","Array","isArray","warn","catch","err","finally","children","length","style","display","gap","flexWrap","map","movie","index"],"sources":["C:/Users/Administrator/PycharmProjects/CloudComputing HW3/movieapp-frontend/src/pages/RecommendationsPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { getRecommendations } from '../services/api';\r\nimport MovieCard from '../components/MovieCard';\r\n\r\nconst RecommendationsPage = () => {\r\n  const [recommendations, setRecommendations] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const userId = 'test_user';\r\n\r\n  useEffect(() => {\r\n  getRecommendations(userId)\r\n    .then(res => {\r\n      console.log(\"REZ_BACKEND:\", res.data);\r\n      const recs = res.data?.recommendations;\r\n      if (Array.isArray(recs)) {\r\n        setRecommendations(recs);\r\n      } else {\r\n        console.warn(\"Expected array, got:\", typeof recs);\r\n        setRecommendations([]);\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.error(\"Error fetching data:\", err);\r\n      setRecommendations([]);\r\n    })\r\n    .finally(() => {\r\n      setLoading(false);\r\n    });\r\n}, []);\r\n\r\n  if (loading) return <p>Se încarcă recomandările...</p>;\r\n  if (error) return <p>{error}</p>;\r\n\r\n  return (\r\n    <div>\r\n      <h2>Recomandări</h2>\r\n      {recommendations.length === 0 ? (\r\n        <p>Nu există recomandări momentan.</p>\r\n      ) : (\r\n        <div style={{ display: 'flex', gap: '10px', flexWrap: 'wrap' }}>\r\n          {recommendations.map((movie, index) => (\r\n            <MovieCard key={index} {...movie} />\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RecommendationsPage;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,kBAAkB,KAAQ,iBAAiB,CACpD,MAAO,CAAAC,SAAS,KAAM,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEhD,KAAM,CAAAC,mBAAmB,CAAGA,CAAA,GAAM,CAChC,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CAC1D,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAC5C,KAAM,CAACY,KAAK,CAAEC,QAAQ,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAAAc,MAAM,CAAG,WAAW,CAE1Bf,SAAS,CAAC,IAAM,CAChBE,kBAAkB,CAACa,MAAM,CAAC,CACvBC,IAAI,CAACC,GAAG,EAAI,KAAAC,SAAA,CACXC,OAAO,CAACC,GAAG,CAAC,cAAc,CAAEH,GAAG,CAACI,IAAI,CAAC,CACrC,KAAM,CAAAC,IAAI,EAAAJ,SAAA,CAAGD,GAAG,CAACI,IAAI,UAAAH,SAAA,iBAARA,SAAA,CAAUT,eAAe,CACtC,GAAIc,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,CAAE,CACvBZ,kBAAkB,CAACY,IAAI,CAAC,CAC1B,CAAC,IAAM,CACLH,OAAO,CAACM,IAAI,CAAC,sBAAsB,CAAE,MAAO,CAAAH,IAAI,CAAC,CACjDZ,kBAAkB,CAAC,EAAE,CAAC,CACxB,CACF,CAAC,CAAC,CACDgB,KAAK,CAACC,GAAG,EAAI,CACZR,OAAO,CAACN,KAAK,CAAC,sBAAsB,CAAEc,GAAG,CAAC,CAC1CjB,kBAAkB,CAAC,EAAE,CAAC,CACxB,CAAC,CAAC,CACDkB,OAAO,CAAC,IAAM,CACbhB,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,CAAC,CACN,CAAC,CAAE,EAAE,CAAC,CAEJ,GAAID,OAAO,CAAE,mBAAON,IAAA,MAAAwB,QAAA,CAAG,0CAA2B,CAAG,CAAC,CACtD,GAAIhB,KAAK,CAAE,mBAAOR,IAAA,MAAAwB,QAAA,CAAIhB,KAAK,CAAI,CAAC,CAEhC,mBACEN,KAAA,QAAAsB,QAAA,eACExB,IAAA,OAAAwB,QAAA,CAAI,kBAAW,CAAI,CAAC,CACnBpB,eAAe,CAACqB,MAAM,GAAK,CAAC,cAC3BzB,IAAA,MAAAwB,QAAA,CAAG,2CAA+B,CAAG,CAAC,cAEtCxB,IAAA,QAAK0B,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAM,CAAEC,GAAG,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAAAL,QAAA,CAC5DpB,eAAe,CAAC0B,GAAG,CAAC,CAACC,KAAK,CAAEC,KAAK,gBAChChC,IAAA,CAACF,SAAS,KAAiBiC,KAAK,EAAhBC,KAAmB,CACpC,CAAC,CACC,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA7B,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}